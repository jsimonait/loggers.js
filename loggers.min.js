/**
 * Loggers.js
 * @author: jsimonait <jsimonait@gmail.com>
 */
(function(p){var q=function(f,l){var a=this.oprions=l,d=[];this.log=function(c){return function(){!a.enabled||0>a.enabledLevels.indexOf("log")||!e(c)||b("log",c,arguments)}};this.info=function(c){return function(){!a.enabled||0>a.enabledLevels.indexOf("info")||!e(c)||b("info",c,arguments)}};this.warn=function(c){return function(){!a.enabled||0>a.enabledLevels.indexOf("warn")||!e(c)||b("warn",c,arguments)}};this.error=function(c){return function(){!a.enabled||0>a.enabledLevels.indexOf("error")||!e(c)|| b("error",c,arguments)}};this.startGroup=function(c,n){return function(){if(!(!a.enabled||0>a.enabledLevels.indexOf("group")||0>a.enabledLevels.indexOf("groupCollapsed"))&&e(c)){var d="group";void 0!=n&&!0==n&&(d="groupCollapsed");b(d,c,arguments)}}};this.endGroup=function(c){return function(){a.enabled&&!(0>a.enabledLevels.indexOf("groupEnd"))&&console.groupEnd&&e(c)&&console.groupEnd()}};this.getStore=function(){return d};this.clearStore=function(){d=[]};var b=function(c,b,e){if(console[c]){if(a.showLogInfo){var g; g=b;if(void 0==g||null==g)g="";var h=a.logInfoTemplate,h=h.replace("{time}",k(a.timeTemplate)),h=h.replace("{name}",f);g=h=h.replace("{key}",g);if(0<e.length)console[c](g,e);else console[c](g)}else console[c](e);a.store&&d.push({date:new Date,level:c,key:b,args:e})}},e=function(c){if(void 0==c||null==c||""==c)return!0;if("string"!=typeof c)throw Error("Type of log key must be 'String'");var b=a.filters;if(b&&b instanceof Array&&0<b.length){for(var d=0;d<b.length;d++)if(-1<c.indexOf(b[d]))return!0; return!1}return!0},k=function(a){var b=new Date,d=m(b.getHours(),2),e=m(b.getMinutes(),2),f=m(b.getSeconds(),2),b=b.getMilliseconds();a=a.replace("{hours}",d);a=a.replace("{minutes}",e);a=a.replace("{seconds}",f);return a=a.replace("{milliseconds}",b)},m=function(a,b){return(a/Math.pow(10,b)).toFixed(b).substr(2)}};p.loggers=new function(){var f=[];this.version="0.1.0";this.options={enabled:!0,enabledLevels:"log info warn error group groupCollapsed groupEnd".split(" "),store:!0,filters:[],showLogInfo:!0, logInfoTemplate:"{time} [{name}] {key}",timeTemplate:"{hours}:{minutes}:{seconds}.{milliseconds}"};this.create=function(a,d){if(void 0==a||null==a||""==a)throw Error("A Logger must have a name");var b=l(this.options),e=d||{},k;for(k in e)e.hasOwnProperty(k)&&(b[k]=e[k]);f[a]=new q(a,b);return f[a]};this.remove=function(a){delete f[a]};this.get=function(a){return f[a]};this.getList=function(){return f};this.getStore=function(){var a=[],d;for(d in f){var b=f[d].getStore(),e;for(e in b)b[e].name=d,a.push(b[e])}return a}; this.clearStore=function(){for(var a in f)f[a].clearStore()};var l=function(a){if(null==a||"object"!=typeof a)return a;if(a instanceof Date){var d=new Date;d.setTime(a.getTime());return d}if(a instanceof Array){for(var d=[],b=0,e=a.length;b<e;b++)d[b]=l(a[b]);return d}if(a instanceof Object){d={};for(b in a)a.hasOwnProperty(b)&&(d[b]=l(a[b]));return d}}}})(window);